{"version":3,"file":"_server.ts.js","sources":["../../../../../../../../src/routes/api/products/[id]/+server.ts"],"sourcesContent":["import { json } from '@sveltejs/kit';\nimport type { RequestHandler } from './$types';\nimport { env } from '$env/dynamic/private';\n\nconst AIRTABLE_BASE_ID = env.AIRTABLE_BASE_ID;\nconst AIRTABLE_PAT = env.AIRTABLE_PAT;\n\nconst productMapping = {\n  'poem-booth-1': 'recPoEmBoOtH123',\n  'eventpartner': 'recEvTpArTnEr456',\n  'eventspecialist': 'recEvTsPeC789',\n  'extra-language': 'recExTrAlAnG012',\n  'branding': 'recBrAnDiNg345',\n  'theme': 'recThEmE678',\n  'printer-1': 'recPrInTeR901',\n  'roast': 'recRoAsT234',\n  'transport': 'recTrAnSpOrT567',\n  'keynote': 'recKeYnOtE890'\n};\n\nexport const GET: RequestHandler = async ({ params }) => {\n  const { id } = params;\n\n  if (!id || !productMapping[id]) {\n    return json({ error: 'Product ID not found' }, { status: 404 });\n  }\n\n  const airtableId = productMapping[id];\n\n  try {\n    const response = await fetch(\n      `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/Products/${airtableId}`,\n      {\n        headers: {\n          'Authorization': `Bearer ${AIRTABLE_PAT}`,\n          'Content-Type': 'application/json'\n        }\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`Airtable request failed: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return json({ id: airtableId, ...data.fields });\n  } catch (error) {\n    console.error('Error fetching product:', error);\n    return json({ error: 'Error fetching product' }, { status: 500 });\n  }\n};\n"],"names":["env"],"mappings":";;AAIA,MAAM,mBAAmBA,YAAI;AAC7B,MAAM,eAAeA,YAAI;AAEzB,MAAM,iBAAiB;AAAA,EACrB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,aAAa;AAAA,EACb,SAAS;AAAA,EACT,aAAa;AAAA,EACb,WAAW;AACb;AAEO,MAAM,MAAsB,OAAO,EAAE,aAAa;AACjD,QAAA,EAAE,OAAO;AAEf,MAAI,CAAC,MAAM,CAAC,eAAe,EAAE,GAAG;AACvB,WAAA,KAAK,EAAE,OAAO,0BAA0B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAG1D,QAAA,aAAa,eAAe,EAAE;AAEhC,MAAA;AACF,UAAM,WAAW,MAAM;AAAA,MACrB,+BAA+B,gBAAgB,aAAa,UAAU;AAAA,MACtE;AAAA,QACE,SAAS;AAAA,UACP,iBAAiB,UAAU,YAAY;AAAA,UACvC,gBAAgB;AAAA,QAAA;AAAA,MAClB;AAAA,IAEJ;AAEI,QAAA,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,4BAA4B,SAAS,UAAU,EAAE;AAAA,IAAA;AAG7D,UAAA,OAAO,MAAM,SAAS,KAAK;AACjC,WAAO,KAAK,EAAE,IAAI,YAAY,GAAG,KAAK,QAAQ;AAAA,WACvC,OAAO;AACN,YAAA,MAAM,2BAA2B,KAAK;AACvC,WAAA,KAAK,EAAE,OAAO,4BAA4B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAEpE;"}