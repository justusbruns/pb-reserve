{"version":3,"file":"_server.ts.js","sources":["../../../../../../../src/routes/api/directions/+server.ts"],"sourcesContent":["import { MAPBOX_TOKEN } from '$env/static/private';\nimport { json } from '@sveltejs/kit';\nimport type { RequestHandler } from './$types';\n\nexport const GET: RequestHandler = async ({ url }) => {\n  const origin = url.searchParams.get('origin');\n  const destination = url.searchParams.get('destination');\n\n  if (!origin || !destination) {\n    return new Response('Origin and destination parameters are required', { status: 400 });\n  }\n\n  if (!MAPBOX_TOKEN) {\n    return new Response('Mapbox token not configured', { status: 500 });\n  }\n\n  try {\n    const response = await fetch(\n      `https://api.mapbox.com/directions/v5/mapbox/driving/${origin};${destination}?geometries=polyline&access_token=${MAPBOX_TOKEN}`\n    );\n\n    if (!response.ok) {\n      throw new Error(`Directions request failed: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return json(data);\n  } catch (error) {\n    console.error('Directions service error:', error);\n    return new Response('Directions service error', { status: 500 });\n  }\n};\n"],"names":[],"mappings":";;AAIO,MAAM,MAAsB,OAAO,EAAE,UAAU;AACpD,QAAM,SAAS,IAAI,aAAa,IAAI,QAAQ;AAC5C,QAAM,cAAc,IAAI,aAAa,IAAI,aAAa;AAElD,MAAA,CAAC,UAAU,CAAC,aAAa;AAC3B,WAAO,IAAI,SAAS,kDAAkD,EAAE,QAAQ,KAAK;AAAA,EAAA;AAOnF,MAAA;AACF,UAAM,WAAW,MAAM;AAAA,MACrB,uDAAuD,MAAM,IAAI,WAAW,qCAAqC,YAAY;AAAA,IAC/H;AAEI,QAAA,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,8BAA8B,SAAS,UAAU,EAAE;AAAA,IAAA;AAG/D,UAAA,OAAO,MAAM,SAAS,KAAK;AACjC,WAAO,KAAK,IAAI;AAAA,WACT,OAAO;AACN,YAAA,MAAM,6BAA6B,KAAK;AAChD,WAAO,IAAI,SAAS,4BAA4B,EAAE,QAAQ,KAAK;AAAA,EAAA;AAEnE;"}